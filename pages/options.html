<!DOCTYPE html>
<html>
    <head>
        <title>TextDown Options</title>
        <style>
        body {
            font-family: "Segoe UI", Lucida Grande, Arial, sans-serif;
        }
        button {
            font-size: large;
        }
        textarea {
            width: 300px;
            height: 40px;
            font-size: 14px;
        }
        </style>
        <script src="../javascript/app/defaultLocalStorage.js" type="text/javascript"></script>
        <script>
            window.onload = function () {

                document.getElementById("htmlTemplate").value = localStorage.getItem("htmlTemplate");

                document.getElementById("shortcuts").value = localStorage.getItem("shortcuts");

                if (localStorage.getItem("markdownExtension") == ".md") {
                    document.getElementById("markdownExtension").selectedIndex = 0;
                } else if (localStorage.getItem("markdownExtension") == ".text") {
                    document.getElementById("markdownExtension").selectedIndex = 1;
                } else {
                    document.getElementById("markdownExtension").selectedIndex = 2;
                }

                if (localStorage.getItem("githubPreview") == 1) {
                    document.getElementById("githubPreview").checked = true
                }

            }

            function save() {

                localStorage.setItem("htmlTemplate", document.getElementById("htmlTemplate").value);
                localStorage.setItem("shortcuts", document.getElementById("shortcuts").value);

                if (document.getElementById("markdownExtension").selectedIndex == 0) {
                    localStorage.setItem("markdownExtension", ".md");
                } else if (document.getElementById("markdownExtension").selectedIndex == 1) {
                    localStorage.setItem("markdownExtension", ".text");
                } else {
                    localStorage.setItem("markdownExtension", ".markdown");
                }

                if (document.getElementById("githubPreview").checked) {
                    localStorage.setItem("githubPreview", 1);
                } else {
                    localStorage.setItem("githubPreview", 0);
                }

                alert("Saved!");
                window.close();
            }

            function reset() {
                localStorage.clear();
                window.location = window.location;
            }
        </script>
    </head>
    <body>
        <h1>TextDown Options</h2>
        <button onclick="save();">Save</button>
        <code>Changes will only take effect after you reload the editor</code>
        <h2>Preview</h2>
        <input id="githubPreview" type="checkbox" /> Github Preview
        <h2>Words Shortcuts List</h2>
        <p>TextDown allows you to use words shortcuts, just like iOS. See <a href="#" onclick="window.open('https://gist.github.com/b43313b9f6fcd2389f15');">this gist</a> for more info.</p>
        <textarea id="shortcuts"></textarea>
        <h2>Export</h2>
        <h3>Markdown Extension</h3>
        <p>Export Markdown with extension:
            <select id="markdownExtension">
                <option>.md</option>
                <option>.text</option>
                <option>.markdown</option>
            </select>
        </p>
        <h3>HTML Template</h3>
        <p>This will be the template of the exported html file. See <a href="#" onclick="window.open('https://gist.github.com/abfbadc3ab24fe92e5dc');">this gist</a> for more info.</p>
        <textarea id="htmlTemplate"></textarea>
    </body>

</html>